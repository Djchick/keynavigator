<!DOCTYPE html>
<html>

  <head>
    <meta charset='utf-8' />
    <meta http-equiv="X-UA-Compatible" content="chrome=1" />
    <meta name="description" content="Keynavigator : Keynavigation plugin for jQuery/Zepto." />

    <link rel="stylesheet" type="text/css" media="screen" href="stylesheets/stylesheet.css">

    <title>Keynavigator</title>

    <style>
      ul li {
        list-style: none;
      }
      ul, table > tbody {
        outline: none;        
      }

      .active-blue {
        background-color: lightblue;
      }
      .active-yellow {
        background-color: yellow;
      }

      .active {
        background-color: #c30;
        color: #fff;
      }

      .demo {
        background-color:#fff;
        box-shadow: 0 0 10px rgba(0,0,0,.1);
        border-radius: 2px;
        padding: 10px;
        width:100%;        
      }

    </style>
    <script src="http://cdnjs.cloudflare.com/ajax/libs/require.js/2.1.5/require.min.js"></script>
    <script src="http://cdnjs.cloudflare.com/ajax/libs/zepto/1.0/zepto.min.js"></script>
    <script>
      Zepto(function($) {

        // Define jquery and return Zepto.
        define('jquery', function() { 
          return $; 
        });

        require(['keynavigator'], function($) {
          // Example #1
          $('ul#example li').keynavigator();

          // Example #2
          $('ul#example1 li').keynavigator({ activeClass: 'active-yellow' })
                            .on('up', function(e) {
                              console.log('Pressed up on', $(this));
                            })
                            .on('down', function(e) {
                              console.log('Pressed down on', $(this));
                            });
          
          // Example #3
          $('ul#example2 li').keynavigator({
            cycle: true, /* When hitting top/bottom - cycle */
            useCache: false, /* Useful if elements are added to our list  */
            activeClass: 'active-blue', /* Class to use on the active element */
            keys: {
              /* Callback when key 'a' is pressed */
              65: function($el, e) {
                // 'this' - will be the KeyNavigator instance.
                // $el - the element
                // e - the event

                console.log('pressed "a" on', $el);

                // Create a new element and add it to the list.
                $('<li>Appended</li>').insertAfter($el);
                
                this.setActive();
              },

              /* Callback when key 'd' is pressed */
              68: function($el, e) { /* Key 'd' */
                // 'this' - will be the KeyNavigator instance.
                // $el - the element
                // e - the event      
                console.log('pressed "d" on', $el);
                
                // Remove the element.
                $el.remove();

                this.setActive();
              }
            }
          });
        });
      });
    </script>
  </head>

  <body>

    <!-- HEADER -->
    <div id="header_wrap" class="outer">
        <header class="inner">
          <a id="forkme_banner" href="https://github.com/nekman/keynavigator">View on GitHub</a>

          <h1 id="project_title">Keynavigator</h1>
          <h2 id="project_tagline">Keynavigation plugin for jQuery/Zepto.</h2>

            <section id="downloads">
              <a class="zip_download_link" href="https://github.com/nekman/keynavigator/zipball/master">Download this project as a .zip file</a>
              <a class="tar_download_link" href="https://github.com/nekman/keynavigator/tarball/master">Download this project as a tar.gz file</a>
            </section>
        </header>
    </div>

    <!-- MAIN CONTENT -->
    <div id="main_content_wrap" class="outer">
      <section id="main_content" class="inner">
        <p>Key navigaton plugin for <a href="http://jquery.com">jQuery</a>/<a href="http://zeptojs.com">Zepto</a>.
<br>
Makes it possible to use arrow keys (or any key) for navigation in eg. <code>ul</code> or <code>table</code> elements.</p>

<h3>
<a name="usage" class="anchor" href="#usage"><span class="octicon octicon-link"></span></a>Usage</h3>

<p>Include keynavigator.js after having included jQuery or Zepto:</p>

<div class="highlight"><pre><span class="nt">&lt;script </span><span class="na">src=</span><span class="s">"jquery.js"</span><span class="nt">&gt;&lt;/script&gt;</span>
<span class="nt">&lt;script </span><span class="na">src=</span><span class="s">"keynavigator.js"</span><span class="nt">&gt;&lt;/script&gt;</span>
</pre></div>

<p>Start the keynavigator plugin.</p>

<div class="highlight"><pre><span class="nx">$</span><span class="p">(</span><span class="nb">document</span><span class="p">).</span><span class="nx">ready</span><span class="p">(</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
  <span class="nx">$</span><span class="p">(</span><span class="s1">'ul#example li'</span><span class="p">).</span><span class="nx">keynavigator</span><span class="p">(</span><span class="cm">/* optional settings */</span><span class="p">);</span>
<span class="p">});</span>  
</pre></div>

<p><strong>Demo</strong><br>
<div class="highlight demo">  
  <ul id="example">
    <li>Item 1</li>
    <li>Item 2</li>
    <li>Item 3</li>
  </ul>
</div>

<h4>
<a name="requirejs" class="anchor" href="#requirejs"><span class="octicon octicon-link"></span></a>RequireJS</h4>

<p>Include <a href="http://requirejs.org">RequireJS</a>.</p>

<div class="highlight"><pre><span class="nt">&lt;script </span><span class="na">src=</span><span class="s">"require.js"</span><span class="nt">&gt;&lt;/script&gt;</span>
</pre></div>

<p>Start the keynavigator plugin.</p>

<div class="highlight"><pre><span class="nx">require</span><span class="p">([</span><span class="s1">'keynavigator'</span><span class="p">],</span> <span class="kd">function</span><span class="p">(</span><span class="nx">$</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">$</span><span class="p">(</span><span class="s1">'ul#example li'</span><span class="p">).</span><span class="nx">keynavigator</span><span class="p">(</span><span class="cm">/* optional settings */</span><span class="p">);</span>
<span class="p">});</span>  

</pre></div>

<h4>
<a name="settings" class="anchor" href="#settings"><span class="octicon octicon-link"></span></a>Settings</h4>

<pre><code> cycle: {boolean} - If true, use cycle navigation
  - default: false     

 activeClass: {string} - The name of the class that should be used for the active element.
  - default: 'active'

 keys: {object} (keyCode: callback): Callback functions that executes when a key is pressed.

 tabindex: {number} - The tabindex that should be used on the parent element.
  - default: -1

 useCache: {boolean} - If false, run the selector on each keydown. 
                       Useful if elements are added/removed from the DOM.
  - default: true
</code></pre>

<p><strong>Custom events</strong><br>
Subscribe to <code>up</code> and <code>down</code> events using:</p>

<div class="highlight"><pre><span class="nx">$</span><span class="p">(</span><span class="s1">'ul#example li'</span><span class="p">).</span><span class="nx">keynavigator</span><span class="p">()</span>
                  <span class="p">.</span><span class="nx">on</span><span class="p">(</span><span class="s1">'up'</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">)</span> <span class="p">{</span>
                    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">'Pressed up on'</span><span class="p">,</span> <span class="nx">$</span><span class="p">(</span><span class="k">this</span><span class="p">));</span>
                  <span class="p">})</span>
                  <span class="p">.</span><span class="nx">on</span><span class="p">(</span><span class="s1">'down'</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">)</span> <span class="p">{</span>
                    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">'Pressed down on'</span><span class="p">,</span> <span class="nx">$</span><span class="p">(</span><span class="k">this</span><span class="p">));</span>
                  <span class="p">});</span>
</pre></div>
<p><strong>Demo - Custom events</strong><br>
<p>Open the console and navigate with <code>up</code> and <code>down</code> arrow keys</p>
<div class="highlight demo">  
  <ul id="example1">
    <li>Item 1</li>
    <li>Item 2</li>
    <li>Item 3</li>
  </ul>
</div>
<p><strong>Example with callbacks</strong><br>
Key handlers and custom settings:</p>

<div class="highlight"><pre><span class="nx">$</span><span class="p">(</span><span class="s1">'ul#example li'</span><span class="p">).</span><span class="nx">keynavigator</span><span class="p">({</span>
  <span class="nx">cycle</span><span class="o">:</span> <span class="kc">true</span><span class="p">,</span> <span class="cm">/* Restart from top/bottom */</span>
  <span class="nx">useCache</span><span class="o">:</span> <span class="kc">false</span><span class="p">,</span> <span class="cm">/* Useful if elements are added/removed  */</span>
  <span class="nx">activeClass</span><span class="o">:</span> <span class="s1">'active-blue'</span><span class="p">,</span> <span class="cm">/* Class on the active element */</span>
  <span class="nx">keys</span><span class="o">:</span> <span class="p">{</span>
    <span class="cm">/* Callback when key 'a' is pressed */</span>
    <span class="mi">65</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span><span class="nx">$el</span><span class="p">,</span> <span class="nx">e</span><span class="p">)</span> <span class="p">{</span>
      <span class="c1">// 'this' - will be the KeyNavigator instance.</span>
      <span class="c1">// $el - the element</span>
      <span class="c1">// e - the event</span>
      <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">'pressed "a" on'</span><span class="p">,</span> <span class="nx">$el</span><span class="p">);</span>

      <span class="c1">// Create a new element and add it to the list.</span>
      <span class="nx">$</span><span class="p">(</span><span class="s1">'&lt;li&gt;Appended&lt;/li&gt;'</span><span class="p">).</span><span class="nx">insertAfter</span><span class="p">(</span><span class="nx">$el</span><span class="p">);</span>

      <span class="k">this</span><span class="p">.</span><span class="nx">setActive</span><span class="p">();</span>
    <span class="p">},</span>

    <span class="cm">/* Callback when key 'd' is pressed */</span>
    <span class="mi">68</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span><span class="nx">$el</span><span class="p">,</span> <span class="nx">e</span><span class="p">)</span> <span class="p">{</span> <span class="cm">/* Key 'd' */</span>
      <span class="c1">// 'this' - will be the KeyNavigator instance.</span>
      <span class="c1">// $el - the element</span>
      <span class="c1">// e - the event      </span>
      <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">'pressed "d" on'</span><span class="p">,</span> <span class="nx">$el</span><span class="p">);</span>

      <span class="c1">// Remove the element.</span>
      <span class="nx">$el</span><span class="p">.</span><span class="nx">remove</span><span class="p">();</span>

      <span class="k">this</span><span class="p">.</span><span class="nx">setActive</span><span class="p">();</span>
    <span class="p">}</span>
  <span class="p">}</span>
<span class="p">});</span>
</pre></div>
<p><strong>Demo - Example with callbacks</strong><br>
<p>Open the console and press <code>a</code> or <code>d</code></p>
<div class="highlight demo">  
  <ul id="example2">
    <li>Item 1</li>
    <li>Item 2</li>
    <li>Item 3</li>
  </ul>
</div>
      </section>

      
    </div>

    <!-- FOOTER  -->
    <div id="footer_wrap" class="outer">
      <footer class="inner">
        <p class="copyright">Keynavigator maintained by <a href="https://github.com/nekman">nekman</a></p>
        <p>Published with <a href="http://pages.github.com">GitHub Pages</a></p>
      </footer>
    </div>

    

  </body>
</html>
